##UML图

### 1.基础概念

- UML-Unified Modeling Language 统一建模语言，又称标准建模语言。是对软件密集系统进行可视化建模的一种语言。UML的定义包括UML语义和UML表示法两个元素。

### 2.UML实例图

![](https://github.com/Monster522/ImageBed/blob/master/4_ad787052-e069-4da7-9ef4-0c35d81b46fd.jpg?raw=true)

- 车的类图结构为 <<abstract>>，表示车是一个抽象类。
- 车有两个继承类：小汽车和自行车。它们之间的关系为**实现关系**，使用**带空心箭头的虚线**表示。
- 小汽车为与SUV之间也是继承关系，它们之间的关系为**泛化关系**，使用**带空心箭头的实线**表示。
- 小汽车与发动机之间是**组合关系**，使用**带实心菱形箭头的实线**表示。
- 学生与班级之间是**聚合关系**，使用**带空心菱形箭头的实线**表示。
- 学生与身份证之间为**关联关系**，使用**一根实线**表示。
- 学生上学需要用到自行车，与自行车是一种**依赖关系**，使用**带箭头的虚线表示**。

### 3.类之间的关系

#### 泛化关系(generalization)

- 类的继承结构，两个对象之间如果可以用 is-a 来表示，就是继承关系。比如小汽车是车，自行车是车。
- 泛化关系用一条带空心箭头的实线表示，意义为继承非抽象类。比如SUV是小汽车为泛化，小汽车是车为实现。

```java
//泛化关系为 继承非抽象类
public class SmallCar {}
public class SUV extends SmallCar {}
```

#### 实现关系(realize)

- 实现关系用一条带空心箭头的虚线表示，意义为继承抽象类。比如自行车是车为实现，因为车没有具体的实现。

```java
//实现关系为 继承抽象类
public abstract class Car {}
public class SmallCar extends Car {}
```

#### 聚合关系(aggregation)

- 聚合关系用一条带空心菱形箭头的实线表示，表示实体对象之间的关系，表示整体由部分构成的语义。例如班级由学生组成。
- 聚合关系中，整体和部分是弱依赖。即使整体消失了，部分也不会消失。例如，班级消失了，学生还存在。

```java
//1. 实例化上，聚合关系为 两个类都是独立存在，分别实例化的。两个类是松耦合的。
//2. 封装性上，Goose类和GooseGroup类对于客户端都是可见的。
public  class GooseGroup
{
    public Goose goose;
	// goose类为 外部传入，不依赖GooseGroup类实例化
    public GooseGroup(Goose goose)
    {
        this.goose = goose;
    }
}

```

#### 组合关系(composition)

- 组合关系用一条带实心菱形箭头的实线表示，表示整体由部分构成的语义。
- 组合关系中，整体和部分是强依赖。整体消失了，部分的意义也会消失，反之亦可。例如小汽车消失了，发动机就没有意义。发动机消失了，小汽车也不是完整的。

```java
//1. 实例化上，组合关系为 Wing类的实例化是依赖Goose类的构造函数，是紧耦合的。
//2. 封装性上，Wings类被封装到Goose类里面，客户端只能看见Goose类。
public class Goose
{
    public Wings wings;
	//Wings类依赖Goose类实例化
    public Goose()
    {
        wings=new Wings();
    }
}
```

#### 关联关系(association)

- 关联关系是用一条直线表示的，描述不同类的对象之间的结构关系。这是一种**静态关系**， 通常与运行状态无关，一般由常识等因素决定的。比如学生和身份证相关联。
- 一般用来定义对象之间静态的、天然的结构，关联关系是一种 **强关联** 的关系。
- 关联关系默认不强调方向，表示对象间相互知道。如果特别强调方向，则表示 被箭头指向的元素 不知道发起箭头的元素。

```java
//1. 类A中有一个实例变量，该变量为类B
public class A {
    private B b;
}

//2. 类A引用了一个全局变量，该类型为类B
public class C {
    public static B bb;
}
public class A {
    public B ba = C.bb;
}
```

####依赖关系(dependency)

- 依赖关系是用一套带箭头的虚线表示的，描述一个对象在运行期间会用到另一个对象的关系。例如学生上学的时候依赖自行车，上课就不用。
- 是一种**临时性的关系**，通常在运行期间产生，并且随着运行时的变化， 依赖关系也可能发生变化。

```java
//1. 代码层面上，类A中的一个方法中形参为类B，运行时的弱依赖。
public class A {
    
    public void method(B b);
}

```

#### 类关系排序

-  类与类之间由弱到强关系是:   **没关系 > 依赖 > 关联 > 聚合 > 组合**