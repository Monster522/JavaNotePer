## 习题解析

### 1.String类对象特点

- 在 Java 中，存放 **字符串常量** 的对象属于String类对象。
- Character类是对字符类型char的包装类封装。
- 生成字符串的两个类String和StringBuffer中，前者生成的字符串是不变字符串，不能直接对它的内容进行修改，而后者生成的字符串是可变的，可以对其内容进行修改。

### 2.String类在内存中的分配

```java
/**
* “abc”在内存中是怎么分配的，是分配在堆中还是字符串常量区。
* 在堆中生成一个String对象，指向字符串常量池中的“abc”。
* 在字符串常量池中会生成一个“abc”。
*/
// 

String str = new String(“abc”);
```

- 字符串常量池概念：JVM为了减少字符串对象的重复创建，其维护了一个特殊的内存，这段内存被成为字符串常量池或者字符串字面量池。
- 工作原理：字符串常量池实现的前提条件是Java中String对象是不可变的，可以安全保证多个变量共享同一个对象。如果Java中的String对象可变的，一个引用操作改变了对象的值，那么其他的变量也会受到影响，这样是不合理的。
- 堆栈的概念：Java中所有由类实例化的对象和数组都存放在堆内存中，无论是成员变量，局部变量，还是类变量，它们指向的对象都存储在堆内存中。栈内存用来存储局部变量和方法调用。
- 寄存器概念：Java中运行时数据区有一个程序寄存器(程序计数器)，该寄存器为线程私有。Java中的程序计数器用来记录当前线程中正在执行的指令。如果当前正在执行的是native方法，那么此刻程序计数器的值为undefined。

### 3.字符串转换异常

```java
//非纯数字的字符串转化为Integer对象会报数字格式异常 java.lang.NumberFormatException
String str=”123456a”;
int i=Integer.parseInt(str);
```

### 4.String类声明

```java
//作用：将某个字符数组转换成特定编码
public String(byte[] bytes, Charset charset);

new String("ISO8959-1".getBytes("ISO8959-1"),“GB2312”)
```

### 5.String.replaceAll方法

```java
public static void main (String[] args) { 
    String classFile = "com.jd.".replaceAll(".","/") + "MyClass.class";
   	System.out.println(classFile);
}
/**
* 打印结果：///////MyClass.class
* 原理：replaceAll方法的第一个参数是正则表达式,而"."在正则表达式中表示任何字符,所以会把前面字符串的所有字符都
*      替换成"/"。如果想替换的只是"."，那么要写成\\.
* API: public String replaceAll(String regex，String replacement)
*/


```

